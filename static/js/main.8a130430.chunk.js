(this["webpackJsonphospital-ward"]=this["webpackJsonphospital-ward"]||[]).push([[0],{11:function(e,t,n){e.exports={headerBed:"Bed_headerBed__2JlZy",empty:"Bed_empty__AuM47",active:"Bed_active__1CjO4",createPatientIcon:"Bed_createPatientIcon__thjrk",inputAge:"Bed_inputAge__1n3H_"}},19:function(e,t,n){e.exports={container:"App_container__kjRhy"}},24:function(e,t,n){e.exports={roomContainer:"Rooms_roomContainer__2Xug9"}},25:function(e,t,n){e.exports={title:"Title_title__21d51"}},3:function(e,t,n){e.exports={patientBed:"Common_patientBed__itWrz",emptyBed:"Common_emptyBed__1cpsq",fillBed:"Common_fillBed__Et-F9",active:"Common_active__22Zfn",addBed:"Common_addBed__3HXqD",addBedIcon:"Common_addBedIcon__11qNy",container:"Common_container__1KcSg",containerItem:"Common_containerItem__1bvbr"}},32:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),i=n(7),c=n.n(i),r=(n(32),n(6)),s=n(19),d=n.n(s),l=n(26),u=n(2),m=n(8),j=n.n(m),b=n(0),p=function(e){return Object(b.jsxs)("div",{className:[j.a.room,function(){switch(e.roomType){case"isolation":return j.a.roomIsolation;case"intensive":return j.a.roomIntensive;default:return j.a.roomPrimary}}()].join(" "),children:["normal"===e.roomType?Object(b.jsxs)("p",{children:["SALA ",e.roomNumber]}):null,Object(b.jsxs)("p",{className:j.a.amountPatient,children:["Stan pacjent\xf3w: ",e.checkAmountOfPatients]})]})},O=o.a.createContext({showPatientInfo:function(e){},saveInfo:function(e){},cleanInfo:function(e){},deleteBed:function(e){},addBed:function(e){},active:null}),h=n(3),f=n.n(h),_=n(20),v=n.n(_),x=n(22),P=n.n(x),B=n(11),g=n.n(B),y=n(9),w=n.n(y),C=function(e){var t=e.isOpen,n=e.onReject,a=e.onAccept;return t?c.a.createPortal(Object(b.jsxs)("div",{className:w.a.main,children:[Object(b.jsx)("h1",{children:"Czy chcesz usun\u0105\u0107 \u0142\xf3\u017cko?"}),Object(b.jsx)("h4",{className:w.a.description,children:"Usuni\u0119cie \u0142\xf3\u017cka oznacza usuni\u0119cie wszystkich zawartych w nim danych!"}),Object(b.jsxs)("div",{className:w.a.buttons,children:[Object(b.jsx)("button",{className:w.a.accept,onClick:a,children:"TAK"}),Object(b.jsx)("button",{className:w.a.reject,onClick:n,children:"ANULUJ"})]})]}),document.body):null},I=function(e){var t=Object(a.useContext)(O),n=Object(a.useState)({isOpenRemovePopup:!1}),o=Object(r.a)(n,2),i=o[0],c=o[1],s=function(){return""!==e.name},d=function(){c({isOpenRemovePopup:!0}),document.body.style.overflow="hidden";var e=document.querySelector("#root").style;e.filter="blur(5px)",e.pointerEvents="none"},l=function(){c({isOpenRemovePopup:!1}),document.body.style.overflow="initial";var e=document.querySelector("#root").style;e.filter="initial",e.pointerEvents="initial"};return Object(b.jsxs)("div",{className:"".concat(f.a.patientBed," ").concat(s()?f.a.fillBed:f.a.emptyBed," ").concat(t.active===e.id?f.a.active:null),onClick:function(){return t.showPatientInfo(e.id)},children:[Object(b.jsxs)("div",{className:"".concat(g.a.headerBed," ").concat(s()?g.a.active:g.a.empty),children:[Object(b.jsxs)("span",{children:["\u0141\xd3\u017bKO ",e.id]}),Object(b.jsx)(C,{isOpen:i.isOpenRemovePopup,onAccept:function(n){n.stopPropagation(),t.deleteBed(e.id),l()},onReject:function(e){e.stopPropagation(),l()}}),Object(b.jsx)(v.a,{onClick:function(n){n.stopPropagation(),s()?d():t.deleteBed(e.id)}})]}),""!==e.name?Object(b.jsxs)(b.Fragment,{children:[" ",Object(b.jsxs)("p",{className:f.a.fillBed,children:["Pacjent: ",e.name]}),Object(b.jsxs)("p",{className:f.a.fillBed,children:["Wiek: ",e.age]})," "]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:g.a.createPatientIcon,children:Object(b.jsx)(P.a,{fontSize:"inherit"})}),Object(b.jsx)("span",{children:"DODAJ PACJENTA"})]})]})},N=n(14),R=n(5),k=n.n(R),A=function(e){var t=Object(a.useContext)(O),n=Object(a.useState)(Object(u.a)({},e.patient)),o=Object(r.a)(n,2),i=o[0],c=o[1],s=function(e){var t=e.target.name,n=e.target.value;c(Object(u.a)(Object(u.a)({},i),{},Object(N.a)({},t,n)))};return Object(b.jsxs)("form",{className:k.a.form,onSubmit:function(e){e.preventDefault(),t.saveInfo(i)},children:[""===e.patient.name?Object(b.jsx)("div",{className:k.a.headerBed,children:"Dodaj pacjenta"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){t.cleanInfo(i),c(Object(u.a)(Object(u.a)({},i),{},{name:"",age:"",diagnosis:"",comments:"",tasks:""}))},className:"".concat(k.a.buttons," ").concat(k.a.remove),children:"USU\u0143"}),Object(b.jsx)("div",{className:k.a.headerBed,children:"Edytuj"})]}),Object(b.jsxs)("label",{children:["Imi\u0119 i nazwisko:",Object(b.jsx)("input",{className:k.a.inputs,required:!0,name:"name",type:"text",value:i.name,onChange:s})]}),Object(b.jsxs)("label",{children:["Wiek:",Object(b.jsx)("input",{className:k.a.inputs,name:"age",type:"number",min:"0",value:i.age,onChange:s})]}),Object(b.jsxs)("label",{children:["Diagnoza lekarska:",Object(b.jsx)("textarea",{name:"diagnosis",cols:"75",rows:"4",wrap:"hard",value:i.diagnosis,onChange:s})]}),Object(b.jsxs)("label",{children:["Uwagi:",Object(b.jsx)("textarea",{name:"comments",cols:"75",rows:"3",value:i.comments,onChange:s})]}),Object(b.jsxs)("label",{children:["Zlecenia:",Object(b.jsx)("textarea",{name:"tasks",cols:"75",rows:"10",value:i.tasks,onChange:s})]}),Object(b.jsx)("input",{className:"".concat(k.a.buttons," ").concat(k.a.submit),type:"submit",value:"ZAPISZ"})]})},S=n(23),F=n.n(S),z=function(e){var t=Object(a.useContext)(O);return Object(b.jsxs)("div",{onClick:function(){return t.addBed(e.id)},className:"".concat(f.a.patientBed," ").concat(f.a.addBed," ").concat(f.a.containerItem),children:[Object(b.jsx)("span",{children:"DODAJ \u0141\xd3\u017bKO "}),Object(b.jsx)("div",{className:f.a.addBedIcon,children:Object(b.jsx)(F.a,{fontSize:"inherit"})})]})},J=function(e){return Object(b.jsx)(b.Fragment,{children:null!==e.area.bed?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(I,{name:e.area.bed.name,age:e.area.bed.age,id:e.area.bed.id}),null!==e.showPatient&&e.showPatient.id===e.area.bed.id?Object(b.jsx)(A,{patient:e.area.bed}):null]}):null===e.showPatient?Object(b.jsx)(z,{id:e.area.id}):null})},D=function(e){var t=e.areas.map((function(t){return Object(b.jsx)("div",{className:f.a.containerItem,children:Object(b.jsx)(J,{area:t,showPatient:e.showPatient})},t.id)}));return Object(b.jsxs)("div",{className:f.a.container,children:[t,null===e.showPatient?Object(b.jsx)(z,{id:e.areas.length+1}):null]})},T=n(24),E=n.n(T),U=function(e){var t=Object(a.useState)({areas:function(){for(var t=[],n=1;n<=e.room.amount;n++)t.push({id:n,bed:{name:"",age:"",diagnosis:"",comments:"",tasks:"",id:n}});return t}(),showPatient:null,activeBed:null}),n=Object(r.a)(t,2),o=n[0],i=n[1];return Object(b.jsx)(O.Provider,{value:{showPatientInfo:function(e){var t=o.areas.find((function(t){return t.id===e})).bed;o.showPatient!==t?i({showPatient:t,areas:o.areas,activeBed:e}):i({showPatient:null,areas:o.areas,activeBed:null})},saveInfo:function(e){var t=o.areas.map((function(t){return t.id===e.id&&(t.bed=e),t}));i(Object(u.a)(Object(u.a)({},o),{},{areas:t}))},cleanInfo:function(e){var t=o.areas.map((function(t){return t.id===e.id&&(Object.entries(e).forEach((function(t){var n=Object(r.a)(t,2),a=n[0],o=n[1];e[a]="id"!==a?"":o})),t.bed=e),t}));i(Object(u.a)(Object(u.a)({},o),{},{areas:t}))},deleteBed:function(e){console.log(o.areas.map((function(e){return e.bed})).length),1!==o.areas.filter((function(e){return null!==e.bed})).map((function(e){return e.bed})).length?i(Object(u.a)(Object(u.a)({},o),{},{showPatient:null,areas:o.areas.map((function(t){return t.id===e&&(t.bed=null),t}))})):alert("Przepraszamy, na sali musi pozosta\u0107 1 \u0142\xf3\u017cko.")},addBed:function(e){var t={name:"",age:"",diagnosis:"",comments:"",tasks:"",id:e};o.areas.find((function(t){return t.id===e}))?i(Object(u.a)(Object(u.a)({},o),{},{areas:o.areas.map((function(n){return n.id===e&&(n.bed=t),n}))})):i(Object(u.a)(Object(u.a)({},o),{},{areas:[].concat(Object(l.a)(o.areas),[{id:e,bed:t}])}))},active:o.activeBed},children:null===e.openedRoom?Object(b.jsx)("div",{className:E.a.roomContainer,onClick:e.showRoom,children:Object(b.jsx)(p,{roomNumber:e.room.id,roomType:e.room.type,checkAmountOfPatients:o.areas.map((function(e){return e.bed})).filter((function(e){return""!==e.name})).length})}):e.openedRoom===e.room?Object(b.jsx)(D,{areas:o.areas,showPatient:o.showPatient}):null})},Z=n(25),q=n.n(Z),L=function(){return Object(b.jsx)("h1",{onClick:function(){return window.location.reload(!0)},className:q.a.title,children:"CHIRURGIA OG\xd3LNA"})},W=function(){var e=Object(a.useState)({rooms:[{id:1,type:"normal",amount:3},{id:2,type:"normal",amount:3},{id:3,type:"normal",amount:3},{id:4,type:"normal",amount:3},{id:5,type:"normal",amount:3},{id:6,type:"normal",amount:3},{id:7,type:"normal",amount:3},{id:"IZOLATKA",type:"isolation",amount:1},{id:"SIOM",type:"intensive",amount:2}],openedRoom:null}),t=Object(r.a)(e,2),n=t[0],o=t[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(L,{}),Object(b.jsx)("div",{className:d.a.container,children:n.rooms.map((function(e){return Object(b.jsx)(U,{showRoom:function(){return t=e.id,void o({openedRoom:n.rooms.find((function(e){return e.id===t})),rooms:n.rooms});var t},openedRoom:n.openedRoom,room:e},e.id)}))})]})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),o(e),i(e),c(e)}))};c.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(W,{})}),document.getElementById("root")),K()},5:function(e,t,n){e.exports={form:"Patient_form__2jBF1",inputs:"Patient_inputs__2J-Ov",headerBed:"Patient_headerBed__2EWWD",buttons:"Patient_buttons__22w_h",remove:"Patient_remove__Ro1Wh",submit:"Patient_submit__1VtbT"}},8:function(e,t,n){e.exports={room:"Room_room__1JGhl",roomPrimary:"Room_roomPrimary__1y5ZH",roomIntensive:"Room_roomIntensive__1669F",roomIsolation:"Room_roomIsolation__1pavi",amountPatient:"Room_amountPatient__1QJB5"}},9:function(e,t,n){e.exports={main:"RemoveBedPopup_main__31CCP",description:"RemoveBedPopup_description__26JIV",buttons:"RemoveBedPopup_buttons__gS3rc",accept:"RemoveBedPopup_accept__Ff1ef",reject:"RemoveBedPopup_reject__1fFPt"}}},[[40,1,2]]]);
//# sourceMappingURL=main.8a130430.chunk.js.map