(this["webpackJsonphospital-ward"]=this["webpackJsonphospital-ward"]||[]).push([[0],{15:function(e,t,n){e.exports={form:"PatientForm_form__1X4np",closeIcon:"PatientForm_closeIcon__2qvfB",inputs:"PatientForm_inputs__3HkOW",headerBed:"PatientForm_headerBed__2J-LN",buttons:"PatientForm_buttons__3k_1_",remove:"PatientForm_remove__2XfR0",submit:"PatientForm_submit__1Nygy"}},18:function(e,t,n){e.exports={main:"RemovePopup_main__2JcvD",description:"RemovePopup_description__3h9lO",buttons:"RemovePopup_buttons__1f6Kh",accept:"RemovePopup_accept__1oH9c",reject:"RemovePopup_reject__1_CbE"}},19:function(e,t,n){e.exports={room:"Room_room__1JGhl",binIcon:"Room_binIcon__1_zUo",roomPrimary:"Room_roomPrimary__1y5ZH",roomIntensive:"Room_roomIntensive__1669F",roomIsolation:"Room_roomIsolation__1pavi"}},21:function(e,t,n){e.exports={headerBed:"Bed_headerBed__2JlZy",empty:"Bed_empty__AuM47",active:"Bed_active__1CjO4",createPatientIcon:"Bed_createPatientIcon__thjrk"}},32:function(e,t,n){e.exports={container:"Rooms_container__2VNtk",roomContainer:"Rooms_roomContainer__2Xug9"}},34:function(e,t,n){e.exports={title:"Title_title__21d51"}},37:function(e,t,n){e.exports={moreInformation:"Area_moreInformation__2ZWuz"}},45:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),c=n(16),i=n.n(c),r=(n(45),n(17)),s=n(4),d=n(5),m=n(39),l=n(3),j="DELETE_ROOM",u="ADD_BED",b="DELETE_BED",p="SAVE_INFO",O=function(e,t){switch(t.type){case j:return Object(l.a)(Object(l.a)({},e),{},{rooms:e.rooms.filter((function(e){return e.id!==t.payload.id}))});case u:return Object(l.a)(Object(l.a)({},e),{},{rooms:e.rooms.map((function(e){if(t.payload.roomId===e.id){var n={name:"",age:"",diagnosis:"",comments:"",tasks:"",id:t.payload.areaId};return t.payload.areaId>e.areas.length&&t.payload.areaId<11?Object(l.a)(Object(l.a)({},e),{},{areas:[].concat(Object(m.a)(e.areas),[{id:t.payload.areaId,bed:n}])}):Object(l.a)(Object(l.a)({},e),{},{areas:e.areas.map((function(e){return e.id===t.payload.areaId?Object(l.a)(Object(l.a)({},e),{},{bed:n}):e}))})}return e}))});case b:return Object(l.a)(Object(l.a)({},e),{},{rooms:e.rooms.map((function(e){return t.payload.roomId===e.id?1===e.areas.filter((function(e){return null!==e.bed})).length?(alert("Przepraszamy, na sali musi pozosta\u0107 1 \u0142\xf3\u017cko."),e):Object(l.a)(Object(l.a)({},e),{},{areas:e.areas.map((function(e){return e.id===t.payload.areaId?Object(l.a)(Object(l.a)({},e),{},{bed:null}):e}))}):e}))});case p:return Object(l.a)(Object(l.a)({},e),{},{rooms:e.rooms.map((function(e){return t.payload.roomId===e.id?Object(l.a)(Object(l.a)({},e),{},{areas:e.areas.map((function(e){return e.id===t.payload.info.id?Object(l.a)(Object(l.a)({},e),{},{bed:t.payload.info}):e}))}):e}))});default:return Object(l.a)({},e)}},h=n(0),f=function(e){for(var t=[],n=1;n<=e;n++)t.push({id:n,bed:{name:"",age:"",diagnosis:"",comments:"",tasks:"",id:n}});return t},_={rooms:[{id:1,type:"isolation",amount:1,areas:f(1)},{id:2,type:"intensive",amount:2,areas:f(2)},{id:3,type:"normal",amount:3,areas:f(3)},{id:4,type:"normal",amount:3,areas:f(3)},{id:5,type:"normal",amount:3,areas:f(3)},{id:6,type:"normal",amount:3,areas:f(3)},{id:7,type:"normal",amount:3,areas:f(3)},{id:8,type:"normal",amount:3,areas:f(3)},{id:9,type:"normal",amount:3,areas:f(3)}]},x=Object(a.createContext)(_),v=function(e){var t=e.children,n=Object(a.useReducer)(O,_),o=Object(d.a)(n,2),c=o[0],i=o[1];return Object(h.jsx)(x.Provider,{value:[c,i],children:t})},I=n(8),y=n.n(I),P=function(e){var t=Object(a.useContext)(x),n=Object(d.a)(t,1)[0],o=e.match.url.split("/"),c=Number(o[3]),i=Number(e.match.params.id),r=n.rooms.find((function(e){return e.id===c})).areas.find((function(e){return e.id===i})).bed;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:y.a.bedName,children:Object(h.jsxs)("span",{className:y.a.bedNameText,children:["POK\xd3J ",c," - \u0141\xd3\u017bKO ",i]})}),Object(h.jsxs)("nav",{className:y.a.navigation,children:[Object(h.jsx)("button",{className:"".concat(y.a.navItem," ").concat(y.a.back),onClick:function(){e.history.goBack()},children:"Powr\xf3t"}),Object(h.jsx)("div",{className:y.a.navItem,children:"Edytuj"}),Object(h.jsx)("div",{className:y.a.navItem,children:"Wskaz\xf3wki"}),Object(h.jsx)("div",{className:y.a.navItem,children:"Historia"})]}),Object(h.jsxs)("div",{className:y.a.information,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Imi\u0119 i nazwisko:"}),Object(h.jsx)("span",{className:y.a.inInfo,children:r.name})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Wiek:"}),Object(h.jsx)("span",{className:y.a.inInfo,children:r.age})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Diagnoza:"}),Object(h.jsx)("span",{className:y.a.inInfo,children:r.diagnosis})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Zlecenia:"}),Object(h.jsx)("span",{className:y.a.inInfo,children:r.tasks})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Uwagi:"}),Object(h.jsx)("span",{className:y.a.inInfo,children:r.comments})]})]})]})},N=n(34),g=n.n(N),B=function(){return Object(h.jsx)(r.b,{to:"/Hospital-ward",children:Object(h.jsx)("h1",{className:g.a.title,children:"CHIRURGIA OG\xd3LNA"})})},C=n(7),w=n.n(C),k=n(28),R=n.n(k),A=n(35),z=n.n(A),F=n(21),S=n.n(F),D=n(18),E=n.n(D),T=function(e){var t=e.isOpen,n=e.onReject,a=e.onAccept,o=e.name;return t?i.a.createPortal(Object(h.jsxs)("div",{className:E.a.main,children:[Object(h.jsxs)("h1",{children:["Czy chcesz usun\u0105\u0107 ",o,"?"]}),Object(h.jsx)("h4",{className:E.a.description,children:"Usuni\u0119cie oznacza utrat\u0119 wszystkich zawartych w nim danych!"}),Object(h.jsxs)("div",{className:E.a.buttons,children:[Object(h.jsx)("button",{className:E.a.accept,onClick:a,children:"TAK"}),Object(h.jsx)("button",{className:E.a.reject,onClick:n,children:"ANULUJ"})]})]}),document.body):null},H=o.a.createContext({showPatientInfo:function(e){},active:null}),J=function(){document.body.style.overflow="hidden";var e=document.querySelector("#root").style;e.filter="blur(5px)",e.pointerEvents="none"},Z=function(){document.body.style.overflow="initial";var e=document.querySelector("#root").style;e.filter="initial",e.pointerEvents="initial"},L=function(e){var t=Object(a.useContext)(x),n=Object(d.a)(t,2),o=(n[0],n[1]),c=Object(a.useContext)(H),i=Object(a.useState)({isOpenRemovePopup:!1}),r=Object(d.a)(i,2),s=r[0],m=r[1],l=function(t){null===c.active?o({type:b,payload:{roomId:e.roomId,areaId:t}}):alert("Nie mo\u017cesz usun\u0105\u0107 \u0142\xf3\u017cka, kiedy formularz jest w\u0142\u0105czony.")},j=function(){return""!==e.name},u=function(){m({isOpenRemovePopup:!1}),Z()};return Object(h.jsxs)("div",{onClick:function(){return c.showPatientInfo(e.id)},className:"".concat(w.a.patientBed," \n                ").concat(j()?w.a.fillBed:w.a.emptyBed,"\n                ").concat(c.active===e.id?w.a.active:null),children:[Object(h.jsxs)("div",{className:"".concat(S.a.headerBed," ").concat(j()?S.a.active:S.a.empty),children:[Object(h.jsxs)("span",{children:["\u0141\xd3\u017bKO ",e.id]}),Object(h.jsx)(T,{name:"pacjenta",isOpen:s.isOpenRemovePopup,onAccept:function(t){t.stopPropagation(),l(e.id),u()},onReject:function(e){e.stopPropagation(),u()}}),Object(h.jsx)(R.a,{onClick:function(t){t.stopPropagation(),j()?(m({isOpenRemovePopup:!0}),J()):l(e.id)}})]}),j()?Object(h.jsxs)(h.Fragment,{children:[" ",Object(h.jsxs)("p",{className:w.a.fillBed,children:["Pacjent: ",e.name]}),Object(h.jsxs)("p",{className:w.a.fillBed,children:["Wiek: ",e.age]})," "]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:S.a.createPatientIcon,children:Object(h.jsx)(z.a,{fontSize:"inherit"})}),Object(h.jsx)("span",{children:"DODAJ PACJENTA"})]})]})},q=n(36),K=n.n(q),U=function(e){var t=Object(a.useContext)(x),n=Object(d.a)(t,2),o=(n[0],n[1]);return e.id,Object(h.jsxs)("div",{onClick:function(){return t=e.id,void o({type:u,payload:{roomId:e.roomId,areaId:t}});var t},className:"".concat(w.a.patientBed," ").concat(w.a.containerItem," ").concat(e.id>10?w.a.stopAddBed:w.a.addBed),children:[Object(h.jsxs)("span",{children:["DODAJ \u0141\xd3\u017bKO ",e.id]}),Object(h.jsx)("div",{className:w.a.addBedIcon,children:Object(h.jsx)(K.a,{fontSize:"inherit"})})]})},W=n(37),M=n.n(W),X=function(e){var t=e.area.bed;return Object(h.jsx)(h.Fragment,{children:null!==t?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(L,{name:t.name,age:t.age,id:t.id,roomId:e.roomId}),Object(h.jsx)(r.b,{to:"/Hospital-ward/room/".concat(e.roomId,"/patient/").concat(t.id),children:null!==t.name&&""!==t.name?Object(h.jsx)("button",{className:M.a.moreInformation,children:"Szczeg\xf3\u0142y"}):null})]}):Object(h.jsx)(U,{roomId:e.roomId,id:e.area.id})})},G=n(26),V=n(15),Y=n.n(V),Q=n(38),$=n.n(Q),ee=function(e){var t=Object(a.useContext)(x),n=Object(d.a)(t,2),o=(n[0],n[1]),c=Object(a.useState)(Object(l.a)({},e.patient)),r=Object(d.a)(c,2),s=r[0],m=r[1];if(!1===e.isOpenFormPopup)return null;var j=function(e){var t=e.target.name,n=e.target.value;m(Object(l.a)(Object(l.a)({},s),{},Object(G.a)({},t,n)))};return i.a.createPortal(Object(h.jsxs)("form",{className:Y.a.form,onSubmit:function(t){var n;t.preventDefault(),n=s,o({type:p,payload:{roomId:e.roomId,info:n}}),e.closePatientInfo(e.patient.id)},children:[Object(h.jsx)($.a,{className:Y.a.closeIcon,onClick:function(){return e.closePatientInfo(e.patient.id)}}),""===e.patient.name?Object(h.jsxs)("div",{className:Y.a.headerBed,children:["Dodaj pacjenta - \u0142\xf3\u017cko ",e.patient.id]}):Object(h.jsxs)("div",{className:Y.a.headerBed,children:["Edytuj pacjenta - \u0142\xf3\u017cko ",e.patient.id]}),Object(h.jsxs)("label",{children:["Imi\u0119 i nazwisko:",Object(h.jsx)("input",{className:Y.a.inputs,required:!0,name:"name",type:"text",value:s.name,onChange:j})]}),Object(h.jsxs)("label",{children:["Wiek:",Object(h.jsx)("input",{className:Y.a.inputs,name:"age",type:"number",min:"0",value:s.age,onChange:j})]}),Object(h.jsxs)("label",{children:["Diagnoza lekarska:",Object(h.jsx)("textarea",{name:"diagnosis",cols:"75",rows:"4",wrap:"hard",value:s.diagnosis,onChange:j})]}),Object(h.jsxs)("label",{children:["Uwagi:",Object(h.jsx)("textarea",{name:"comments",cols:"75",rows:"3",value:s.comments,onChange:j})]}),Object(h.jsxs)("label",{children:["Zlecenia:",Object(h.jsx)("textarea",{name:"tasks",cols:"75",rows:"10",value:s.tasks,onChange:j})]}),Object(h.jsx)("input",{className:"".concat(Y.a.buttons," ").concat(Y.a.submit),type:"submit",value:"ZAPISZ"})]}),document.body)},te=function(e){var t=Object(a.useContext)(x),n=Object(d.a)(t,1)[0],o=Object(a.useState)({showPatient:null,activeBed:null,isOpenFormPopup:!1}),c=Object(d.a)(o,2),i=c[0],r=c[1],s=function(){return n.rooms.find((function(t){return t.id===Number(e.match.params.id)}))},m=s().areas.map((function(t){return Object(h.jsx)("div",{className:w.a.containerItem,children:Object(h.jsx)(X,{area:t,roomId:Number(e.match.params.id)})},t.id)}));return Object(h.jsx)(H.Provider,{value:{showPatientInfo:function(e){var t=s().areas.find((function(t){return t.id===e})).bed;i.showPatient!==t&&r({showPatient:t,activeBed:e,isOpenFormPopup:!0}),J()},active:i.activeBed},children:Object(h.jsxs)("div",{className:w.a.container,children:[m,null===i.showPatient?Object(h.jsx)(U,{id:s().areas.length+1,roomId:Number(e.match.params.id)}):Object(h.jsx)(ee,{isOpenInfoPopup:i.isOpenFormPopup,patient:i.showPatient,closePatientInfo:function(e){var t=s().areas.find((function(t){return t.id===e})).bed;i.showPatient===t&&r({showPatient:null,activeBed:null,isOpenFormPopup:!1}),Z()},roomId:Number(e.match.params.id)})]})})},ne=n(32),ae=n.n(ne),oe=n(19),ce=n.n(oe),ie=function(e){var t=Object(a.useContext)(x),n=Object(d.a)(t,2),o=(n[0],n[1]),c=Object(a.useState)({isOpenRemovePopup:!1}),i=Object(d.a)(c,2),s=i[0],m=i[1],l=function(){m({isOpenRemovePopup:!1}),Z()},u=function(){o({type:j,payload:{id:e.roomNumber}})};return Object(h.jsxs)("div",{className:[ce.a.room,function(){switch(e.roomType){case"isolation":return ce.a.roomIsolation;case"intensive":return ce.a.roomIntensive;default:return ce.a.roomPrimary}}()].join(" "),children:[Object(h.jsxs)(r.b,{to:"/Hospital-ward/room/".concat(e.roomNumber),children:[Object(h.jsx)("p",{children:function(){switch(e.roomType){case"isolation":return"IZOLATKA";case"intensive":return"SIOM";default:return"SALA ".concat(e.roomNumber)}}()}),Object(h.jsxs)("p",{children:["Stan pacjent\xf3w: ",e.checkAmountOfPatients]})]}),Object(h.jsx)(R.a,{className:ce.a.binIcon,onClick:function(){m({isOpenRemovePopup:!0}),J()},fontSize:"inherit"}),Object(h.jsx)(T,{name:"sal\u0119",isOpen:s.isOpenRemovePopup,onAccept:function(){u(),l()},onReject:function(){l()}})]})},re=function(){var e=Object(a.useContext)(x),t=Object(d.a)(e,1)[0];return Object(h.jsx)("div",{className:ae.a.container,children:t.rooms.map((function(e){return Object(h.jsx)("div",{className:ae.a.roomContainer,children:Object(h.jsx)(ie,{roomNumber:e.id,roomType:e.type,checkAmountOfPatients:(n=e.id,t.rooms.find((function(e){return e.id===n})).areas.map((function(e){return e.bed})).filter((function(e){return null!==e&&""!==e.name})).length)})},e.id);var n}))})},se=function(){return Object(h.jsx)(v,{children:Object(h.jsxs)(r.a,{children:[Object(h.jsx)(B,{}),Object(h.jsxs)(s.c,{children:[Object(h.jsx)(s.a,{exact:!0,path:"/Hospital-ward",component:re}),Object(h.jsx)(s.a,{path:"/Hospital-ward/room/:id/patient/:id",component:P}),Object(h.jsx)(s.a,{path:"/Hospital-ward/room/:id",component:te})]})]})})},de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),o(e),c(e),i(e)}))};i.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(se,{})}),document.getElementById("root")),de()},7:function(e,t,n){e.exports={patientBed:"Common_patientBed__itWrz",emptyBed:"Common_emptyBed__1cpsq",fillBed:"Common_fillBed__Et-F9",active:"Common_active__22Zfn",addBed:"Common_addBed__3HXqD",addBedIcon:"Common_addBedIcon__11qNy",stopAddBed:"Common_stopAddBed__hRqpS",container:"Common_container__1KcSg",containerItem:"Common_containerItem__1bvbr"}},8:function(e,t,n){e.exports={navigation:"Patient_navigation__3QJrp",navItem:"Patient_navItem__wupUH",back:"Patient_back__1wm8k",information:"Patient_information__33ZAp",inInfo:"Patient_inInfo__3nHBO",bedName:"Patient_bedName__3RiDx",bedNameText:"Patient_bedNameText__YTf0Y"}}},[[54,1,2]]]);
//# sourceMappingURL=main.b5712f45.chunk.js.map